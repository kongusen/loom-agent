<div align="center">

<img src="loom.svg" alt="Loom Agent" width="300"/>

# ğŸ§¶ loom-agent

**Long Horizon Agents Framework**
*Agents that don't collapse when problems get long.*

[![PyPI](https://img.shields.io/pypi/v/loom-agent.svg)](https://pypi.org/project/loom-agent/)
[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![License: Apache 2.0 + Commons Clause](https://img.shields.io/badge/License-Apache_2.0_with_Commons_Clause-red.svg)](LICENSE)

[English](README_EN.md) | **ä¸­æ–‡**

[å®£è¨€](MANIFESTO.md) | [æ–‡æ¡£](docs/README.md) | [å¿«é€Ÿå¼€å§‹](docs/usage/getting-started.md)

</div>

---

## ä¸€ä¸ªç®€çŸ­çš„æ•…äº‹

æˆ‘ä»¬æ„å»ºäº†è®¸å¤š Agentã€‚

å®ƒä»¬èƒ½å†™ä»£ç ã€‚
å®ƒä»¬èƒ½è§„åˆ’ä»»åŠ¡ã€‚
å®ƒä»¬èƒ½è°ƒç”¨å·¥å…·ã€‚

ä½†å®ƒä»¬éƒ½ä»¥åŒæ ·çš„æ–¹å¼å¤±è´¥ã€‚

ä¸æ˜¯åœ¨ç¬¬ä¸€æ­¥ã€‚
ä¸æ˜¯åœ¨ç¬¬äº”æ­¥ã€‚

å®ƒä»¬æ‚„æ— å£°æ¯åœ°å¤±è´¥â€”â€”
å¤§çº¦åœ¨ç¬¬äºŒåæ­¥ã€‚

è®¡åˆ’è¿˜åœ¨ã€‚
å·¥å…·è¿˜å¯ç”¨ã€‚

ä½†æ²¡äººè®°å¾—ï¼š

* ä¸ºä»€ä¹ˆå¯åŠ¨è¿™ä¸ªä»»åŠ¡
* å·²ç»å°è¯•è¿‡ä»€ä¹ˆ
* å“ªäº›å†³ç­–æ˜¯é‡è¦çš„
* æ¥ä¸‹æ¥è¯¥ç”±è°è¡ŒåŠ¨

Agent æ²¡æœ‰å´©æºƒã€‚

å®ƒåªæ˜¯**å¿˜è®°äº†è‡ªå·±æ˜¯è°**ã€‚

é‚£ä¸€åˆ»æˆ‘ä»¬æ„è¯†åˆ°ï¼š

> é—®é¢˜ä¸åœ¨äºæ™ºèƒ½ã€‚
> è€Œåœ¨äºæ—¶é—´ã€‚

---

## é•¿æ—¶ç¨‹å´©æºƒ (The Long Horizon Collapse)

çœŸå®ä¸–ç•Œçš„ä»»åŠ¡ä¸æ˜¯ promptã€‚

å®ƒä»¬è·¨è¶Šæ•°åä¸ªæ­¥éª¤ã€æ•°å¤©æ—¶é—´ã€ä¸æ–­å˜åŒ–çš„ç›®æ ‡ã€‚
è®¡åˆ’ä¼šè¿‡æœŸï¼Œä¸Šä¸‹æ–‡ä¼šçˆ†ç‚¸ï¼Œè®°å¿†ä¼šç¢ç‰‡åŒ–ã€‚

è¿™å°±æ˜¯**é•¿æ—¶ç¨‹é—®é¢˜ (Long Horizon Problem)**ã€‚

å¤§å¤šæ•° Agent æ¡†æ¶å‡è®¾ä»»åŠ¡æ˜¯çŸ­çš„ã€ç›®æ ‡æ˜¯ç¨³å®šçš„ã€å¤±è´¥æ˜¯ä¸€æ¬¡æ€§çš„ã€‚
å®ƒä»¬ä¾èµ–å•ä¸€è§„åˆ’å™¨ã€å…¨å±€è®°å¿†ã€çº¿æ€§æ‰§è¡Œæµã€‚

è¿™åœ¨ Demo é‡Œå¾ˆå¥½çœ‹ã€‚

ä½†åœ¨ç¬¬ 20 æ­¥ä¹‹åï¼ŒAgent å¼€å§‹æ— ä¼‘æ­¢åœ°é‡æ–°è§„åˆ’ã€è‡ªç›¸çŸ›ç›¾ã€é‡å¤å¤±è´¥çš„è¡ŒåŠ¨ã€‚
æ·»åŠ æ›´å¤šå·¥å…·åªä¼šåŠ é€Ÿå´©æºƒã€‚

**é—®é¢˜ä¸åœ¨äºæ¨ç†èƒ½åŠ›ã€‚**

å¤§å¤šæ•° Agent å¤±è´¥ï¼Œæ˜¯å› ä¸ºå®ƒä»¬æ²¡æœ‰èƒ½å¤Ÿåœ¨æ—¶é—´ä¸­ä¿æŒç¨³å®šçš„ç»“æ„ã€‚

> æ›´å¤š token è§£å†³ä¸äº†è¿™ä¸ªé—®é¢˜ã€‚
> æ›´å¥½çš„ prompt ä¹Ÿè§£å†³ä¸äº†ã€‚
> **èƒ½è§£å†³çš„ï¼Œåªæœ‰ç»“æ„ã€‚**

---

## loom-agentï¼šç»“æ„é€’å½’çš„ç­”æ¡ˆ

äººç±»ä»æœªç”¨"æ›´é«˜æ™ºå•†"è§£å†³å¤æ‚æ€§ã€‚

æˆ‘ä»¬ç”¨çš„æ˜¯**é‡å¤ç»“æ„**ï¼šå›¢é˜Ÿåƒéƒ¨é—¨ï¼Œéƒ¨é—¨åƒå…¬å¸ï¼Œå…¬å¸åƒç”Ÿæ€ç³»ç»Ÿã€‚
å³ä½¿è§„æ¨¡å¢é•¿ï¼Œç»“æ„ä¿æŒç¨³å®šã€‚è¿™å°±æ˜¯åˆ†å½¢ç»„ç»‡ã€‚

**loom-agent è®© Agent ä»¥åŒæ ·çš„æ–¹å¼å·¥ä½œã€‚**

ä¸æ˜¯æ„å»º"è¶…çº§ Agent"ï¼Œè€Œæ˜¯æ„å»º**è‡ªç›¸ä¼¼çš„ Agent**ã€‚
æ¯ä¸ª Agent éƒ½åŒ…å«ç›¸åŒçš„æ ¸å¿ƒç»“æ„ï¼š

```
è§‚å¯Ÿ â†’ å†³ç­– â†’ æ‰§è¡Œ â†’ åæ€ â†’ æ¼”åŒ–
```

ä¸€ä¸ª Agent å¯ä»¥åˆ›å»ºå­ Agentï¼Œå­ Agent çš„è¡Œä¸ºæ–¹å¼å®Œå…¨ç›¸åŒã€‚
ä»»åŠ¡å˜æˆä¸–ç•Œï¼Œä¸–ç•ŒåŒ…å«æ›´å°çš„ä¸–ç•Œã€‚

**å¤æ‚æ€§å¢é•¿ï¼Œç»“æ„ä¸å˜ã€‚**

è¿™æ„å‘³ç€ç³»ç»Ÿå¯ä»¥æ— é™æ‰©å±•â€”â€”æ— éœ€é‡æ–°è®¾è®¡æ¶æ„ã€æ— éœ€ prompt è†¨èƒ€ã€æ— éœ€ä¸­å¿ƒåŒ–è§„åˆ’å™¨ã€‚

---

## Loom éšå–»

ç»‡æœºä¸æ˜¯é€šè¿‡æ™ºèƒ½åˆ›é€ ç»‡ç‰©çš„ã€‚

å®ƒé€šè¿‡**ç»“æ„**åˆ›é€ ç»‡ç‰©ã€‚

* çº¿äº¤ç»‡
* æ¨¡å¼é‡å¤
* å¼ åŠ›ä¿æŒå¹³è¡¡

loom-agent ä¸­çš„ Agent æ˜¯çº¿ã€‚

æ¡†æ¶æ˜¯ç»‡æœºã€‚

å‡ºç°çš„ä¸æ˜¯å·¥ä½œæµâ€”â€”
è€Œæ˜¯ä¸€ä¸ªéšæ—¶é—´æŒç»­çš„æ´»ç»“æ„ã€‚

---

## æ ¸å¿ƒåŸåˆ™

loom-agent çš„è®¾è®¡å›´ç»•å››ä¸ªæ ¸å¿ƒä¿¡å¿µï¼š

**ç»“æ„ä¼˜äºæ™ºèƒ½** â€” æ›´èªæ˜çš„æ¨ç†ä¸èƒ½é˜²æ­¢å´©æºƒï¼Œç¨³å®šçš„ç»“æ„å¯ä»¥ã€‚

**ä¸ºé•¿æ—¶ç¨‹è€Œç”Ÿ** â€” ä¸“ä¸ºæŒç»­æ•°å°æ—¶æˆ–æ•°å¤©ã€éœ€è¦é‡è¯•å’Œæ¢å¤ã€æ¶‰åŠæ¼”åŒ–ç›®æ ‡çš„ä»»åŠ¡è®¾è®¡ã€‚

**é»˜è®¤åˆ†å½¢** â€” æ¯ä¸ª Agent éƒ½å¯ä»¥æˆä¸ºä¸€ä¸ªç³»ç»Ÿï¼Œæ¯ä¸ªç³»ç»Ÿçš„è¡Œä¸ºéƒ½åƒä¸€ä¸ª Agentã€‚æ— éœ€é‡å†™æ¶æ„å³å¯æ‰©å±•ã€‚

**èº«ä»½å…ˆäºè®°å¿†** â€” Agent å¿…é¡»å§‹ç»ˆçŸ¥é“å®ƒä»¬æ˜¯è°ã€æœåŠ¡ä»€ä¹ˆè§’è‰²ã€å±äºå“ªä¸ªé˜¶æ®µã€è´Ÿè´£ä»€ä¹ˆã€‚æ²¡æœ‰èº«ä»½ï¼Œè®°å¿†å°±æ˜¯å™ªéŸ³ã€‚

---

## é€‚ç”¨åœºæ™¯

loom-agent ä¸æ˜¯ prompt é›†åˆï¼Œä¸æ˜¯å·¥å…·ç¼–æ’åŒ…è£…å™¨ï¼Œä¸æ˜¯å·¥ä½œæµå¼•æ“ã€‚

å®ƒæ˜¯ä¸ºé‚£äº›éœ€è¦**åœ¨æ—¶é—´ä¸­ä¿æŒç¨³å®š**çš„ç³»ç»Ÿè€Œè®¾è®¡çš„ï¼š

é•¿æœŸè¿è¡Œçš„è‡ªä¸»å·¥ä½œæµ â€¢ ç ”ç©¶ Agent â€¢ å¤šæ—¥ä»»åŠ¡æ‰§è¡Œ â€¢ å¤æ‚çš„ RAG ç³»ç»Ÿ â€¢ åŸºäº Agent çš„ SaaS åç«¯ â€¢ AI æ“ä½œå‘˜å’Œå‰¯é©¾é©¶

---

## å¿«é€Ÿå¼€å§‹

```bash
pip install loom-agent
```

```python
from loom.api import LoomApp, AgentConfig
from loom.providers.llm import OpenAIProvider

# 1. åˆå§‹åŒ–åº”ç”¨
app = LoomApp()

# 2. é…ç½®æ¨¡å‹æœåŠ¡
llm = OpenAIProvider(api_key="your-api-key")
app.set_llm_provider(llm)

# 3. å®šä¹‰ Agent
config = AgentConfig(
    agent_id="architect",
    name="é•¿æ—¶ç¨‹åè°ƒå™¨",
    system_prompt="ä½ æ˜¯ä¸€ä¸ªä¸“æ³¨äºé•¿æœŸä»»åŠ¡æ‰§è¡Œçš„ AI æ¶æ„å¸ˆã€‚",
    capabilities=["tool_use", "reflection"],
)

agent = app.create_agent(config)
print(f"Agent å·²å°±ç»ª: {agent.node_id}")
```

> æ›´å¤šç¤ºä¾‹è¯·å‚é˜… [å¿«é€Ÿå¼€å§‹æ–‡æ¡£](docs/usage/getting-started.md)ã€‚

---

## æ ¸å¿ƒç‰¹æ€§

### åˆ†å½¢æ¶æ„ (Fractal Architecture)
é‡‡ç”¨ `CompositeNode` å®ç°çœŸæ­£çš„é€’å½’ç»„åˆã€‚æ— è®ºæ˜¯å•ä¸ª Agent è¿˜æ˜¯å¤æ‚çš„åä½œå›¢é˜Ÿï¼Œåœ¨ Loom ä¸­éƒ½æ˜¯ä¸€è‡´çš„èŠ‚ç‚¹ã€‚

### ä»£è°¢è®°å¿†ç³»ç»Ÿ (Metabolic Memory)
æ„å»ºäº† L1 (å·¥ä½œè®°å¿†) åˆ° L4 (è¯­ä¹‰çŸ¥è¯†åº“) çš„å®Œæ•´è®°å¿†è°±ç³»ã€‚ç³»ç»Ÿè‡ªåŠ¨æ‰§è¡Œä¿¡æ¯çš„æ‘„å…¥ã€æ¶ˆåŒ–å’ŒåŒåŒ–è¿‡ç¨‹ã€‚

### å¼ºç±»å‹äº‹ä»¶æ€»çº¿ (Type-Safe Event Bus)
ä½¿ç”¨ä¸¥æ ¼çš„ CloudEvents æ ‡å‡†ã€åŸºäº Protocol çš„å¤„ç†å™¨å®šä¹‰ï¼Œä¸ºåˆ†å¸ƒå¼ Agent ç³»ç»Ÿæä¾›å·¥ä¸šçº§çš„å¯è§‚æµ‹æ€§ã€‚

### å…¬ç†åŒ–ç³»ç»Ÿè®¾è®¡ (Axiomatic Framework)
å»ºç«‹åœ¨ 5 æ¡åŸºç¡€å…¬ç†ä¹‹ä¸Šçš„å½¢å¼åŒ–ç†è®ºæ¡†æ¶ï¼Œç¡®ä¿ç³»ç»Ÿçš„é€»è¾‘ä¸€è‡´æ€§å’Œå¯é¢„æµ‹æ€§ã€‚

---

## æ–‡æ¡£ä½“ç³»

**ç†è®ºåŸºç¡€**
* [å…¬ç†æ¡†æ¶](docs/concepts/axiomatic-framework.md) - ç†è§£ Loom èƒŒåçš„ 5 æ¡æ ¸å¿ƒæ³•åˆ™
* [åˆ†å½¢æ¶æ„](docs/framework/fractal-architecture.md) - å¦‚ä½•å¯¹æŠ—ç©ºé—´ç†µå¢

**æ ¸å¿ƒæœºåˆ¶**
* [ä¸Šä¸‹æ–‡ç®¡ç†](docs/framework/context-management.md) - æ™ºèƒ½çš„ Token ä¼˜åŒ–ç­–ç•¥
* [äº‹ä»¶æ€»çº¿](docs/framework/event-bus.md) - ç³»ç»Ÿçš„ç¥ç»ç³»ç»Ÿ
* [è®°å¿†ç³»ç»Ÿ](docs/features/memory-system.md) - L1-L4 ä»£è°¢è®°å¿†è¯¦è§£

**åŠŸèƒ½ä¸æ¨¡å¼**
* [ç¼–æ’æ¨¡å¼](docs/features/orchestration.md) - ä¸²è¡Œã€å¹¶è¡Œä¸æ¡ä»¶è·¯ç”±
* [å·¥å…·ç³»ç»Ÿ](docs/features/tool-system.md) - å®‰å…¨çš„å·¥å…·æ‰§è¡Œæœºåˆ¶
* [æœç´¢ä¸æ£€ç´¢](docs/features/search-and-retrieval.md) - è¯­ä¹‰çŸ¥è¯†åº“é›†æˆ

---

## é¡¹ç›®çŠ¶æ€

loom-agent æ­£åœ¨ç§¯æå¼€å‘ä¸­ã€‚

æ¡†æ¶ä¸“æ³¨äºï¼š

* Agent èº«ä»½å»ºæ¨¡
* åˆ†å½¢ Agent ç»„åˆ
* é•¿æ—¶ç¨‹æ‰§è¡Œå¾ªç¯
* ç»“æ„åŒ–è®°å¿†åˆ†å±‚
* æ„ŸçŸ¥å¤±è´¥çš„ä»»åŠ¡æ¼”åŒ–

API å¯èƒ½ä¼šå¿«é€Ÿæ¼”åŒ–ã€‚

ç»“æ„ä¸ä¼šã€‚

---

## å“²å­¦

> æ™ºèƒ½è§£å†³é—®é¢˜ã€‚
> ç»“æ„åœ¨æ—¶é—´ä¸­å­˜ç»­ã€‚

---

## ç¤¾åŒºä¸è”ç³»

æ¬¢è¿åŠ å…¥ Loom å¼€å‘è€…ç¤¾åŒºï¼Œä¸æˆ‘ä»¬å…±åŒæ¢è®¨ä¸‹ä¸€ä»£ Agent æ¶æ„ã€‚

<img src="QRcode.jpg" width="200" alt="Loom Community WeChat"/>

---

## è®¸å¯è¯

**Apache License 2.0 with Commons Clause**.

æœ¬è½¯ä»¶å…è®¸å…è´¹ç”¨äºå­¦æœ¯ç ”ç©¶ã€ä¸ªäººå­¦ä¹ å’Œå†…éƒ¨å•†ä¸šä½¿ç”¨ã€‚
**ä¸¥ç¦æœªç»æˆæƒçš„å•†ä¸šé”€å”®**ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºå°†æœ¬è½¯ä»¶æ‰“åŒ…æ”¶è´¹ã€æä¾›æ‰˜ç®¡æœåŠ¡ç­‰ï¼‰ã€‚
è¯¦æƒ…è¯·è§ [LICENSE](LICENSE)ã€‚

---

**æ¬¢è¿æ¥åˆ°é•¿æ—¶ç¨‹ Agent çš„ä¸–ç•Œã€‚**
